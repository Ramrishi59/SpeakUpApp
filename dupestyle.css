/* =========================================
   Speak Up — old-style.css (Canva, no card)
   ========================================= */

/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Baloo+2:wght@600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap');

/* Theme tokens */
:root {
  --primary-color: #ffcc00;
  --accent-color:  #ff6f61;
  --text-color:    #333;
  --bg-color:      #fefae0;
  --button-color:  #4CAF50;
  --nav-bg:        #ffffff;

  --font-heading: 'Baloo 2', cursive;
  --font-body:    'Comic Neue', sans-serif;

  --shadow: 0 4px 10px rgba(0,0,0,0.10);

  /* App chrome */
  --header-h: 64px; /* adjust if your top bar is taller/shorter */
}

/* ---------- Base ---------- */
* { box-sizing: border-box; }

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  color: var(--text-color);
  font-family: var(--font-body);
  font-size: 18px;
  line-height: 1.5;
  letter-spacing: 0.4px;
  font-weight: bold;

  /* Sky background */
  background: url('Images/Unit1/background-sky.webp') no-repeat center center fixed;
  background-size: cover;
}

/* Headings / highlighted words */
h1, h2, .highlight-word {
  font-family: var(--font-heading);
  font-size: 24px;
  color: #D47B00;
}

/* ---------- Top App Header ---------- */
.app-header {
  background-color: var(--primary-color);
  color: #fff;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  font-size: 1.4em;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  position: sticky;
  top: 0;
  z-index: 100;
}

.score-display {
  position: absolute;
  top: 12px;
  right: 15px;
  display: flex;
  align-items: center;
  background-color: #ffe082;
  padding: 8px 15px;
  border-radius: 20px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  color: #333;
  font-weight: bold;
  z-index: 1000;
}

.star-icon { width: 30px; height: 30px; margin-right: 0; }

/* ---------- Main Container ---------- */
.container.full-screen-center {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  text-align: center;

  height: calc(100svh - var(--header-h)); /* mobile-friendly viewport */
  overflow: hidden;                        /* page itself doesn’t scroll */
  padding: 1rem;
  padding-bottom: 0;                       /* no bottom nav anymore */
}

/* ---------- Lesson Title ---------- */
h1.lesson-title {
  font-family: 'Baloo 2', cursive;
  font-size: 2rem;
  color: #ff3b3b;
  text-shadow: 2px 2px 0 #fff;
  margin: 8px 0 6px 0;
}

/* ---------- Word Display (no card) ---------- */
.word-display {
  width: 100%;
  max-width: 600px;

  display: flex;
  flex-direction: column;
  align-items: center;

  background: transparent;
  box-shadow: none;
  border-radius: 0;
  margin-top: 8px;
  padding: 0 8px;
}

/* Lesson / intro / outro text — separate from word text */
.lesson-text {
  font-family: var(--font-body);
  font-size: 1.1rem;
  color: #333;
  margin: 10px 0 6px;
  text-align: center;
}

/* Word screens (with image) — float over sky */
.word-display.has-image {
  height: calc(100svh - var(--header-h) - 32px); /* fill nicely below header */
  justify-content: flex-start;
}

/* Image sizing: never pushes controls off screen */
#wordImage,
.word-display.has-image .word-image {
  width: auto;
  max-width: 82%;
  max-height: 40vh;               /* keeps space for text + buttons */
  object-fit: contain;
  margin: 10px 0 8px;
}

/* Word text (“a book”, etc.) — centered block, independent of image */
.word-text {
  font-family: 'Baloo 2', cursive;
  font-size: 1.9rem;
  color: #ff3b3b;
  text-shadow: 1px 1px 0 #fff;
  margin: 12px 0 12px;
  padding: 0px;
  text-align: center;
}

/* Hint text (if you show it) */
.hint-text {
  font-size: 1rem;
  color: #777;
  margin: 4px 0;
  position: static;
}

/* ---------- Navigation buttons ---------- */
.navigation-buttons {
  width: 100%;
  display: flex;
  justify-content: space-between; /* left/right edges */
  align-items: center;
  margin-top: auto;               /* stick to bottom of viewport area */
  padding: 0 14px;
  box-sizing: border-box;
}

.nav-btn {
  background-color: #4cafa4;
  color: #fff;
  padding: 12px 28px;
  border: none;
  border-radius: 12px;
  font-size: 1.05em;
  font-family: var(--font-body);
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: transform 0.15s ease, background-color 0.3s ease;
}
.nav-btn:hover { background-color: #45a049; transform: scale(1.05); }
.nav-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

/* ---------- Start Over ---------- */
.action-buttons {
  display: flex;
  justify-content: center;
  /* Use consistent bottom spacing across all screens */
  margin: 12px 0 12px 0;
}
.action-buttons button {
  background-color: #4cafa4;
  color: #fff;
  padding: 12px 25px;
  border: none;
  border-radius: 10px;
  font-size: 1.05em;
  cursor: pointer;
  transition: background-color 0.3s ease;
  font-family: var(--font-body);
}
.action-buttons button:hover { background-color: #45a049; }

/* ---------- Intro/Outro screens (no image) ---------- */
.word-display:not(.has-image) {
  /* Match has-image container sizing to keep nav aligned */
  min-height: calc(100svh - var(--header-h) - 16px);
  justify-content: center;
}
.word-display:not(.has-image) .navigation-buttons { 
  display: flex !important; 
  justify-content: space-between;
  padding: 0 14px;
}
.word-display.is-intro #prevButton { display: none !important; } /* hide only Prev on intro */
.word-display.is-outro  #nextButton { display: none !important; } /* hide Next on outro */
/* Equalize spacing so nav row sits at the same Y across screens */
/* (no special-case top margin for intro/outro) */

/* ---------- Optional: Manku in corner ---------- */
.manku-corner {
  position: fixed;
  top: calc(var(--header-h) + 8px);
  left: 12px;
  width: 96px;
  height: auto;
  z-index: 500;
  pointer-events: none;
  filter: drop-shadow(0 6px 10px rgba(0,0,0,0.15));
}

/* ---------- Misc ---------- */
button:disabled { opacity: 0.55; cursor: not-allowed; filter: grayscale(10%); }

/* =========================
   FINAL STABLE OVERRIDES
   (paste at end; remove older duplicates below this)
   ========================= */

/* Detect intro/outro by empty image src */
#wordImage[src=""] { display: none; }

/* ------- INTRO / OUTRO (no image) — keep FLEX ------- */
.word-display:not(.has-image) {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: calc(100svh - var(--header-h) - 16px);
}

/* Center whichever text you’re using on intro/outro */
.word-display:not(.has-image) #lessonText,
.word-display:not(.has-image) #wordText {
  display: grid;
  place-items: center;
  margin-block: auto; /* center between title (top) and nav (bottom) */
  text-align: center;
  max-width: 60ch;

  font-family: var(--font-heading);
  font-weight: 700;
  font-size: clamp(1.6rem, 5vw, 2.4rem);
  line-height: 1.2;
  color: #ff3b3b;
}

/* Pin nav to bottom on intro/outro (flex) */
.word-display:not(.has-image) .navigation-buttons {
  margin-top: auto !important;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 14px;
}

/* ------- WORD SCREENS (has image) — use GRID ------- */
.word-display.has-image {
  /* fixed rows so nothing jumps */
  --stage-h: clamp(200px, 40svh, 380px);
  --word-slot-h: clamp(72px, 12svh, 120px);

  display: grid !important;  /* override any earlier flex */
  grid-template-rows:
    auto               /* 1. title */
    var(--stage-h)     /* 2. image-stage (fixed) */
    var(--word-slot-h) /* 3. word slot (fixed) */
    auto               /* 4. nav */
    auto;              /* 5. start over */
  row-gap: 8px;
  justify-items: center;
  align-items: center;
  min-height: calc(100svh - var(--header-h) - 16px);
}

/* lesson text is intro/outro only */
.word-display.has-image #lessonText { display: none !important; }

/* Explicit placement so order can’t shuffle */
.word-display.has-image h1.lesson-title     { grid-row: 1; }
.word-display.has-image .image-stage        { grid-row: 2; }
.word-display.has-image #wordText           { grid-row: 3; }
.word-display.has-image .navigation-buttons { grid-row: 4; }
.word-display.has-image .action-buttons     { grid-row: 5; }

/* Uniform image box */
.word-display.has-image .image-stage {
  height: var(--stage-h);
  width: min(82vw, 640px);
  display: grid;
  place-items: center;
  margin: 0;
}

/* Fit any image neatly in the stage */
.word-display.has-image .image-stage img {
  max-width: 100%;
  max-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
  display: block;
}

/* Neutralise any old sizing that competes */
.word-display.has-image #wordImage,
.word-display.has-image .word-image {
  max-height: none !important;
  margin: 0 !important;
}

/* Fixed word slot so the word never moves */
.word-display.has-image #wordText {
  height: var(--word-slot-h);
  width: 100%;
  display: grid;
  place-items: center;
  text-align: center;
  max-width: 90vw;
  margin: 0;
  font-family: 'Baloo 2', cursive;
  font-weight: 700;
  font-size: clamp(1.6rem, 5vw, 2.4rem);
  line-height: 1.2;
}

/* Nav in GRID: no auto margins; grid row controls position */
.word-display.has-image .navigation-buttons {
  margin: 0 !important;
  width: 100%;
  display: flex;
  justify-content: space-between;
  padding: 0 14px;
}

/* ------- GLOBAL: don’t let a global margin fight states ------- */
.navigation-buttons { margin-top: 0 !important; }
